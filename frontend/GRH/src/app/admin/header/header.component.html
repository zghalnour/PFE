<div class="admin-dashboard">
  <!-- Barre supérieure -->
  <header class="top-bar">
    <!-- Menu et Logo à gauche -->
    <div class="left-section">
    
      <img src="assets/logo.png" alt="Logo" class="logo">
    </div>
  

  
  
    <!-- Nom utilisateur et icône utilisateur -->
    <div class="user-info">
      <i class="fas fa-user user-icon"></i>
      <span class="username">Bienvenu, {{ nomUtilisateur }}</span>
      
    </div>
  
    <!-- Menu déroulant pour déconnexion -->
    <div class="dropdown">
      <div class="icons">
        <div class="notification-container" (click)="toggleDropdown()">
          <i class="fas fa-bell notification-icon" [class.has-unread]="unreadCount > 0"></i>
          <!-- Badge optionnel -->
          <span *ngIf="unreadCount > 0" class="notification-badge">{{ unreadCount }}</span>
        </div>
        <i class="fas fa-sign-out-alt logout-icon" (click)="logout()"></i>
      </div>
  <!-- In header.component.html -->
<div class="notification-dropdown" *ngIf="showDropdown">
  <div *ngIf="notifications.length === 0" class="no-notifications">
    Aucune nouvelle notification
  </div>
  <ul>
    <!-- Corrected to use notif.contenu -->
    <li *ngFor="let notif of notifications"
        [class.unread]="!notif.isRead"
        (click)="navigateTo(notif.link, notif.id)">
      {{ notif.contenu }}  <!-- <<< CORRECTION: Use 'contenu' -->
      <!-- Optional: Display date -->
      <!-- <span class="notification-date">{{ formatDate(notif.dateCreation) }}</span> -->
    </li>
  </ul>
  <!-- <a routerLink="/admin/notifications" class="view-all">Voir tout</a> -->
</div>

    </div>
  </header>
  

<!-- Menu latéral -->
<!-- Menu latéral -->
<nav class="sidebar" >
  <ul>
    <li>
      <a routerLink="/admin" 
         [class.active]="isActive('/admin')" 
         (click)="setActiveRoute('/admin')">
        <i class="fas fa-tachometer-alt"></i>
        <span>Dashboard</span>
      </a>
    </li>
    <li>
      <a routerLink="/users" 
      [class.active]="isActive('/users')" 
      (click)="setActiveRoute('/users')">
     <i class="fas fa-users"></i>
     <span>Utilisateurs</span>
   </a>
    </li>
    <li>
      <a routerLink="/offres" 
         [class.active]="isActive('/offres')" 
         (click)="setActiveRoute('/offres')">
         <i class="fas fa-briefcase"></i>

        <span>offres</span>
      </a>
    </li>
    <li>
      <a routerLink="/departements" 
         [class.active]="isActive('/departements')" 
         (click)="setActiveRoute('/departements')">
        <i class="fas fa-building"></i>
        <span>Départements</span>
      </a>
    </li>
    <li>
      <a routerLink="/employes" 
         [class.active]="isActive('/employes')" 
         (click)="setActiveRoute('/employes')">
        <i class="fas fa-user-tie"></i>
        <span>Employes</span>
      </a>
    </li>
  </ul>
</nav>


