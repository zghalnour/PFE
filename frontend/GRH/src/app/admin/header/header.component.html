<div class="admin-dashboard">
  <!-- Barre supérieure -->
  <header class="top-bar">
    <!-- Menu et Logo à gauche -->
    <div class="left-section">
    
      <img src="assets/logo.png" alt="Logo" class="logo">
    </div>
  

  
  
    <!-- Nom utilisateur et icône utilisateur -->
    <div class="user-info">
      <i class="fas fa-user user-icon"></i>
      <span class="username">Bienvenu, {{ nomUtilisateur }}</span>
      
    </div>
  
    <div class="icons-container"> <!-- Conteneur pour les icônes et le dropdown -->
      <div class="icons">
        <!-- Conteneur spécifique pour la notification et son badge -->
        <div class="notification-container" (click)="toggleDropdown()">
          <i class="fas fa-bell notification-icon"></i>
          <!-- Badge positionné sur l'icône -->
          <span *ngIf="unreadCount > 0" class="notification-badge">{{ unreadCount > 9 ? '9+' : unreadCount }}</span> <!-- Limite l'affichage à 9+ -->
        </div>
        <i class="fas fa-sign-out-alt logout-icon" (click)="logout()"></i>
      </div>

      <!-- Menu déroulant des notifications -->
      <div class="notification-dropdown" *ngIf="showDropdown">
        <div class="dropdown-header">Notifications</div> <!-- Ajout d'un titre -->
        <div *ngIf="notifications.length === 0" class="no-notifications">
          Aucune nouvelle notification
        </div>
        <ul *ngIf="notifications.length > 0" class="notification-list">
          <li *ngFor="let notif of notifications"
              [class.unread]="!notif.isRead"
              (click)="handleNotificationClick(notif)">
            <div class="notification-content"> <!-- Conteneur pour le contenu -->
               {{ notif.contenu }}
            </div>
             <!-- Optionnel: Afficher la date de manière plus discrète -->
             <!-- <span class="notification-date">{{ formatDate(notif.dateCreation) }}</span> -->
          </li>
        </ul>
         <!-- Optionnel: Lien "Voir tout" -->
        <!-- <a routerLink="/admin/notifications" class="view-all" (click)="closeDropdown()">Voir tout</a> -->
      </div>
    </div>
  </header>
  

<!-- Menu latéral -->
<!-- Menu latéral -->
<nav class="sidebar">
  <div class="sidebar-header">
    <i class="fas fa-user-shield"></i> <!-- Icône d'administration -->
    <span>Administrateur</span>
  </div>
  <ul>
    <li>
      <a routerLink="/admin" 
         [class.active]="isActive('/admin')" 
         (click)="setActiveRoute('/admin')">
        <i class="fas fa-tachometer-alt"></i>
        <span>Dashboard</span>
      </a>
    </li>
  
  
    <li *ngIf="isActive('/parcours-candidat')">
      <a routerLink="/parcours-candidat" [class.active]="isActive('/parcours-candidat')" (click)="setActiveRoute('/parcours-candidat')">
        <i class="fas fa-clipboard-list"></i>
        <span>Parcours Candidat</span>
      </a>
    </li>
  
        <li>
      <a routerLink="/employes" 
         [class.active]="isActive('/employes')" 
         (click)="setActiveRoute('/employes')">
        <i class="fas fa-user-tie"></i>
        <span>Personnel</span>
      </a>
    </li>
    <li>
      <a routerLink="/departements" 
         [class.active]="isActive('/departements')" 
         (click)="setActiveRoute('/departements')">
        <i class="fas fa-building"></i>
        <span>Départements</span>
      </a>
    </li>
      <li>
      <a routerLink="/offres" 
         [class.active]="isActive('/offres')" 
         (click)="setActiveRoute('/offres')">
         <i class="fas fa-briefcase"></i>

        <span>offres</span>
      </a>
    </li>
  </ul>
</nav>


