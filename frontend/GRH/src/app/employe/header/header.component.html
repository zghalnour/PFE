<div class="admin-dashboard">
  <!-- Barre supérieure -->
  <header class="top-bar">
    <!-- Menu et Logo à gauche -->
    <div class="left-section">
    
      <img src="assets/logo.png" alt="Logo" class="logo">
    </div>
  

  
  
    <!-- Nom utilisateur et icône utilisateur -->
    <div class="user-info">
      <i class="fas fa-user user-icon"></i>
      <span class="username">Bienvenu, {{ nomUtilisateur }}</span>
      
    </div>
  
    <!-- Menu déroulant pour déconnexion -->
      <div class="icons-container"> <!-- Conteneur pour les icônes et le dropdown -->
      <div class="icons">
        <!-- Conteneur spécifique pour la notification et son badge -->
        <div class="notification-container" (click)="toggleDropdown()">
          <i class="fas fa-bell notification-icon"></i>
          <!-- Badge positionné sur l'icône -->
          <span *ngIf="unreadCount > 0" class="notification-badge">{{ unreadCount > 9 ? '9+' : unreadCount }}</span> <!-- Limite l'affichage à 9+ -->
        </div>
        <i class="fas fa-sign-out-alt logout-icon" (click)="logout()"></i>
      </div>

      <!-- Menu déroulant des notifications -->
      <div class="notification-dropdown" *ngIf="showDropdown">
        <div class="dropdown-header">Notifications</div> <!-- Ajout d'un titre -->
        <div *ngIf="notifications.length === 0" class="no-notifications">
          Aucune nouvelle notification
        </div>
        <ul *ngIf="notifications.length > 0" class="notification-list">
          <li *ngFor="let notif of notifications"
              [class.unread]="!notif.isRead"
              (click)="handleNotificationClick(notif)">
            <div class="notification-content"> <!-- Conteneur pour le contenu -->
               {{ notif.contenu }}
            </div>
             <!-- Optionnel: Afficher la date de manière plus discrète -->
             <!-- <span class="notification-date">{{ formatDate(notif.dateCreation) }}</span> -->
          </li>
        </ul>
        
      </div>
    </div>
  </header>
  


<nav class="sidebar" >
      <div class="sidebar-header">
    <i class="fas fa-user-tie"></i> <!-- Icône d'employé -->
    <span>Employé</span>
  </div>
  <ul>
    <li>
      <a routerLink="/employe" 
         [class.active]="isActive('/employe')" 
         (click)="setActiveRoute('/employe')">
         <i class="fas fa-tachometer-alt"></i>
        <span>Dashboard</span>
      </a>
    </li>
    <li>
      <a routerLink="/employe/demande-conge" 
         [class.active]="isActive('/employe/demande-conge')" 
         (click)="setActiveRoute('/employe/demande-conge')">
         <i class="fas fa-user-clock"></i>
        <span>Mes congés</span>
      </a>
    </li>
        <li>
      <a routerLink="/employe/entretiens" 
         [class.active]="isActive('/employe/entretiens')" 
         (click)="setActiveRoute('/employe/entretiens')">
         <i class="fas fa-clipboard-check"></i> <!-- Changed icon -->
        <span>Evaluation entretiens</span> <!-- Slightly refined text -->
      </a>
    </li>
          <li>
      <a routerLink="/employe/integration" 
         [class.active]="isActive('/employe/integration')" 
         (click)="setActiveRoute('/employe/integration')">
         <i class="fas fa-clipboard-check"></i> <!-- Changed icon -->
        <span>Integration</span> <!-- Slightly refined text -->
      </a>
    </li>
  
  </ul>
</nav>
